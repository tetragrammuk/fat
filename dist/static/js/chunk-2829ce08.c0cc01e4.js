(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2829ce08"],{1:function(t,e){},2:function(t,e){},3:function(t,e){},"3b66":function(t,e,i){},be9b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fillcontain"},[i("div",{staticClass:"contain"},[i("div",{staticClass:"keyword"},[i("el-select",{model:{value:t.select_keyword,callback:function(e){t.select_keyword=e},expression:"select_keyword"}},[i("el-option",{attrs:{label:"會員名稱",value:"name"}}),i("el-option",{attrs:{label:"電話",value:"phone"}}),i("el-option",{attrs:{label:"電子信箱",value:"email"}}),i("el-option",{attrs:{label:"Line_userID",value:"user_id"}})],1),i("el-input",{attrs:{placeholder:"請輸入關鍵字"},model:{value:t.search_input,callback:function(e){t.search_input=e},expression:"search_input"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.filterpost},slot:"append"})],1)],1),i("div",{staticClass:"filter"},[0==t.filterslec_count?i("div",{staticClass:"filter_1st"},[i("el-dropdown",{on:{command:t.filter_command_2}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{icon:"el-icon-view"}},[t._v("篩選資料")])],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"標籤"}},[t._v("標籤")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"性別"}},[t._v("性別")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"電子信箱"}},[t._v("電子信箱")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"電話號碼"}},[t._v("電話號碼")])],1)],1)],1):t._e(),0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:function(e){return t.filter_condition_select(e)}}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{icon:"el-icon-view",type:"info"}},[t._v(t._s(t.filter_select))])],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"符合所有篩選條件"}},[t._v("符合所有篩選條件")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"符合任何篩選條件"}},[t._v("符合任何篩選條件")])],1)],1)],1):t._e(),0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-popover",{attrs:{placement:"bottom-start",width:"400"},model:{value:t.time_popo_visible,callback:function(e){t.time_popo_visible=e},expression:"time_popo_visible"}},[i("div",{staticStyle:{"text-align":"left","font-size":"20px"}},[i("div",[i("el-radio",{attrs:{label:"不限時間"},on:{change:t.time_area_f},model:{value:t.radio_time,callback:function(e){t.radio_time=e},expression:"radio_time"}},[t._v("不限時間")])],1),i("div",[i("el-radio",{attrs:{label:"過去"},on:{change:t.time_area_f},model:{value:t.radio_time,callback:function(e){t.radio_time=e},expression:"radio_time"}},[t._v("過去")]),i("div",{staticClass:"pasttime"},[!0===t.past_time_area?i("el-select",{attrs:{placeholder:"請選擇",clearable:""},on:{change:t.past_time_slec_f},model:{value:t.select_past_time,callback:function(e){t.select_past_time=e},expression:"select_past_time"}},t._l(t.past_times,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e()],1)],1),i("div",[i("el-radio",{attrs:{label:"自訂"},on:{change:t.time_area_f},model:{value:t.radio_time,callback:function(e){t.radio_time=e},expression:"radio_time"}},[t._v("自訂")]),!0===t.define_time_area?i("el-date-picker",{staticStyle:{"margin-left":"10px"},attrs:{type:"daterange","start-placeholder":"Start time","end-placeholder":"End time","value-format":"yyyy-MM-dd","default-time":["00:00:00","23:59:59"]},on:{change:t.define_time_f},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}}):t._e()],1),i("el-divider"),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.time_popo_visible_f}},[t._v("完成")])],1)],1),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{slot:"reference",icon:"el-icon-view",type:"info"},slot:"reference"},[t._v(t._s(t.radio_time)+" "+t._s(t.time_select))])],1)],1):t._e(),i("el-divider",{attrs:{direction:"vertical"}}),t._l(t.male_counts,function(e,o){return 0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:function(e){return t.male_command(o,e)}}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"}},[t._v("性別 是 "+t._s(e.male))]),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary",icon:"el-icon-close"},on:{click:function(e){return t.deletemalebutton(o)}}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"男生"}},[t._v("男生")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"女生"}},[t._v("女生")])],1)],1)],1):t._e()}),t._l(t.tag_counts,function(e,o){return 0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-popover",{attrs:{placement:"bottom-start",width:"400"},model:{value:t.tipVisibles[o],callback:function(e){t.$set(t.tipVisibles,o,e)},expression:"tipVisibles[index]"}},[i("div",{staticStyle:{"text-align":"left","font-size":"20px"}},[i("p",[t._v("調整時間區間對此條件無效")]),i("div",[i("el-radio",{attrs:{label:"是"},model:{value:t.radio_tag[o],callback:function(e){t.$set(t.radio_tag,o,e)},expression:"radio_tag[index]"}},[t._v("是")]),i("div",["是"===t.radio_tag[o]?i("el-select",{attrs:{size:"large",multiple:"",placeholder:"請選擇標籤"},on:{change:function(e){return t.tagselect_f(o,e)}},model:{value:t.select_tags[o],callback:function(e){t.$set(t.select_tags,o,e)},expression:"select_tags[index]"}},t._l(t.tags,function(t,e){return i("el-option",{key:e,staticStyle:{"font-size":"20px"},attrs:{label:t.label,value:e}})}),1):t._e()],1)],1),i("div",[i("el-radio",{attrs:{label:"不是"},model:{value:t.radio_tag[o],callback:function(e){t.$set(t.radio_tag,o,e)},expression:"radio_tag[index]"}},[t._v("不是")]),i("div",["不是"===t.radio_tag[o]?i("el-select",{attrs:{size:"large",multiple:"",placeholder:"請選擇標籤"},on:{change:function(e){return t.tagselect_f(o,e)}},model:{value:t.select_tags[o],callback:function(e){t.$set(t.select_tags,o,e)},expression:"select_tags[index]"}},t._l(t.tags,function(t,e){return i("el-option",{key:e,staticStyle:{"font-size":"20px"},attrs:{label:t.label,value:e}})}),1):t._e()],1)],1)]),i("el-divider"),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{staticStyle:{"font-size":"20px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.tipVisibles_f(o)}}},[t._v("完成")])],1),i("el-button-group",{attrs:{slot:"reference"},slot:"reference"},[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"}},[t._v("標籤 "+t._s(t.radio_tag[o])+" "+t._s(t.tag_counts[o].label.toString()))]),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary",icon:"el-icon-close"},on:{click:function(e){return t.deletetagbutton(o)}}})],1)],1)],1):t._e()}),t._l(t.email_counts,function(e,o){return 0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:function(e){return t.email_command(o,e)}}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"}},[t._v("電子信箱 "+t._s(e.email))]),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary",icon:"el-icon-close"},on:{click:function(e){return t.deleteemailbutton(o)}}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"有資料"}},[t._v("有資料")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"沒資料"}},[t._v("沒資料")])],1)],1)],1):t._e()}),t._l(t.phone_counts,function(e,o){return 0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:function(e){return t.phone_command(o,e)}}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"}},[t._v("電話號碼 "+t._s(e.phone))]),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary",icon:"el-icon-close"},on:{click:function(e){return t.deletephonebutton(o)}}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"有資料"}},[t._v("有資料")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"沒資料"}},[t._v("沒資料")])],1)],1)],1):t._e()}),0!==t.filterslec_count?i("div",{staticClass:"filter_button"},[i("el-dropdown",{on:{command:t.filter_command}},[i("el-button-group",[i("el-button",{staticStyle:{"font-size":"18px"},attrs:{icon:"el-icon-plus"}},[t._v(" 新增篩選")])],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"標籤"}},[t._v("標籤")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"性別"}},[t._v("性別")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"電子信箱"}},[t._v("電子信箱")]),i("el-dropdown-item",{staticClass:"drop_font",attrs:{command:"電話號碼"}},[t._v("電話號碼")])],1)],1)],1):t._e(),i("div",{staticClass:"filter_button"},[0!==t.filterslec_count?i("el-button",{staticStyle:{"margin-left":"20px","font-size":"18px"},attrs:{type:"primary"},on:{click:t.filterpost}},[t._v("\n            執行篩選"),i("i",{staticClass:"el-icon-search el-icon--right"})]):t._e()],1)],2),i("el-divider"),i("el-button",{staticStyle:{"margin-bottom":"1vw","font-size":"18px"},attrs:{type:"primary"},on:{click:t.onExportExcel}},[t._v("導出excel")]),i("div",{staticClass:"table_container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table_loading,expression:"table_loading"}],staticStyle:{width:"100%"},attrs:{id:"table",data:t.tableData,height:"","highlight-current-row":"","header-cell-class-name":"table-header-class"},on:{"row-click":t.draweropen,"cell-mouse-enter":t.mouse_change}},[i("el-table-column",{attrs:{label:"#",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.$index+(t.paginations.pageIndex-1)*t.paginations.pageSize+1)+" ")])]}}])}),i("el-table-column",{attrs:{property:"picture",label:"頭像",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.picture}})]}}])}),i("el-table-column",{attrs:{property:"name",label:"姓名",width:"140",align:"center",sortable:""}}),i("el-table-column",{attrs:{property:"email",label:"email",align:"center",width:"250",sortable:""}}),i("el-table-column",{attrs:{property:"phone",label:"phone",align:"center",width:"200",sortable:""}}),i("el-table-column",{attrs:{property:"gender",label:"性別",width:"100",align:"center"}}),i("el-table-column",{attrs:{property:"jointime",label:"加入時間",width:"150",align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",readonly:"true"},model:{value:e.row.jointime,callback:function(i){t.$set(e.row,"jointime",i)},expression:"scope.row.jointime"}})]}}])}),i("el-table-column",{attrs:{label:"標籤",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.label_id,function(e,o){return i("el-tag",{key:o},[t._v(t._s(e))])})}}])})],1),i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"pagination"},[t._v("\n                    共"+t._s(t.paginations.total)+"條\n                    "),t.paginations.total>0?i("el-pagination",{attrs:{background:"","page-sizes":t.paginations.pageSizes,"page-size":t.paginations.pageSize,layout:t.paginations.layout,total:t.paginations.total,"current-page":t.paginations.pageIndex},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}}):t._e()],1)])],1)],1)],1),i("el-drawer",{ref:"drawer",attrs:{title:"個人資訊",visible:t.drawer,size:"40%","before-close":t.Sumbit_drawer_fixed},on:{"update:visible":function(e){t.drawer=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-form-item",{attrs:{label:"Line頭像"}},[i("el-col",{attrs:{span:10}},[i("img",{staticStyle:{width:"5vw",height:"5vw"},attrs:{src:t.form.row_picture}})])],1),i("el-form-item",{attrs:{label:"姓名"}},[i("el-col",{attrs:{span:5}},[i("el-button",[t._v(t._s(t.form.row_name))])],1),i("el-col",{attrs:{span:10}},[t._v("\n                    性別    \n                    "),i("el-button",[t._v(t._s(t.form.row_gender))])],1)],1),i("el-form-item",{attrs:{label:"Line_User_ID"}},[i("el-col",{attrs:{span:15}},[i("el-button",[t._v(t._s(t.form.row_userid))])],1)],1),i("el-divider"),i("el-form-item",{attrs:{label:"電子信箱",prop:"row_email"}},[i("el-col",{attrs:{span:15}},[i("el-input",{model:{value:t.form.row_email,callback:function(e){t.$set(t.form,"row_email",e)},expression:"form.row_email"}})],1)],1),i("el-form-item",{attrs:{label:"地址",prop:"row_address"}},[i("el-col",{attrs:{span:15}},[i("el-input",{model:{value:t.form.row_address,callback:function(e){t.$set(t.form,"row_address",e)},expression:"form.row_address"}})],1)],1),i("el-form-item",{attrs:{label:"電話號碼",prop:"row_phone"}},[i("el-col",{attrs:{span:15}},[i("el-input",{model:{value:t.form.row_phone,callback:function(e){t.$set(t.form,"row_phone",e)},expression:"form.row_phone"}})],1)],1),i("el-form-item",{attrs:{label:"加入時間",prop:"row_jointime"}},[i("el-col",{attrs:{span:15}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:t.form.row_jointime,callback:function(e){t.$set(t.form,"row_jointime",e)},expression:"form.row_jointime"}})],1)],1),i("el-form-item",{attrs:{label:"標籤"}},[i("el-col",{attrs:{span:15}},t._l(t.form.row_label_id,function(e){return i("el-tag",[t._v("\n                    "+t._s(e)+"\n                    ")])}),1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.$refs.drawer.closeDrawer()}}},[t._v(t._s(t.loading?"提交中 ...":"確認修改"))]),i("el-button",{staticStyle:{"margin-left":"2vw"},on:{click:t.cancelForm}},[t._v("取消")])],1)],1)],1)],1)},a=[],s=(i("7f7f"),i("c24f")),l=i("21a6"),n=i.n(l),r=i("5f87"),c=i("1146"),_=i.n(c),d=i("cebe"),m=i.n(d),p={data:function(){var t=this,e=function(e,i,o){if(i!=t.form.row_phone_begin)return console.log("rule生效"),t.confirm_flag=!0,o(new Error("有修改 : 按下確定才完成變更"))},i=function(e,i,o){if(i!=t.form.row_address_begin)return console.log("rule生效"),t.confirm_flag=!0,o(new Error("有修改 : 按下確定才完成變更"))},o=function(e,i,o){if(i!=t.form.row_email_begin)return console.log("rule生效"),t.confirm_flag=!0,o(new Error("有修改 : 按下確定才完成變更"))},a=function(e,i,o){if(i!=t.form.row_birth_begin)return console.log("rule生效"),t.confirm_flag=!0,o(new Error("有修改 : 按下確定才完成變更"))},s=function(e,i,o){if(i!=t.form.row_jointime_begin)return console.log("rule生效"),t.confirm_flag=!0,o(new Error("有修改 : 按下確定才完成變更"))};return{confirm_flag:!1,timer:null,table_loading:!0,dialog:!1,select_array:[],addnewtag_drawer:!1,select_tags_drawer:[],drawer:!1,form:{row_userid:"",row_birth:"",row_birth_begin:"",row_name:"",row_name_begin:"",row_email:"",row_email_begin:"",row_jointime:"",row_jointime_begin:"",row_picture:"",row_label_id:[],row_address:"",row_address_begin:"",row_phone:"",row_phone_begin:"",row_gender:"",watch:!1},rules:{row_phone:[{validator:e,trigger:"blur"}],row_email:[{validator:o,trigger:"blur"}],row_address:[{validator:i,trigger:"blur"}],row_jointime:[{validator:s,trigger:"blur"}],row_birth:[{validator:a,trigger:"blur"}]},tableData:[],loading:!1,paginations:{total:0,pageIndex:1,pageSize:20,pageSize_begin:20,pageSizes:[5,10,15,20],layout:"sizes, prev, pager, next, jumper"},keyword_select_data:[{value:"會員名稱",label:"會員名稱"},{value:"標籤",label:"標籤"},{value:"性別",label:"性別"},{value:"電子信箱",label:"電子信箱"},{value:"電話號碼",label:"電話號碼"}],daterange:[],select_past_time:"",past_times:[{value:"7天",label:"7天"},{value:"15天",label:"15天"},{value:"30天",label:"30天"},{value:"90天",label:"490天"}],value:"",filterslec_count:0,male_counts:[],tag_counts:[],email_counts:[],phone_counts:[],jointime_counts:[],time_select:"",filter_select:"符合所有篩選條件",radio_time:"不限時間",radio_tag:[],tags:[{value:"很魚",label:"很魚"}],tags_drawer:[{value:"很魚",label:"很魚"}],select_tags:[],tipVisibles:[],time_popo_visible:!1,past_time_area:!1,define_time_area:!1,search_input:"",select_keyword:"name"}},created:function(){},mounted:function(){this.filterpost()},methods:{onExportExcel:function(){this.exportExcel(document.getElementById("table"),"Member_data.xlsx");this.$message({message:"成功下載!",center:!0,type:"success"})},exportExcel:function(t,e){var i=this;this.paginations.pageSize=this.paginations.total,this.paginations.pageIndex=1;var o=Object(r["a"])("Token");m.a.post("https://test-backend-dot-flow-263607.appspot.com/filter",{type:"filter",limit:this.paginations.pageSize,page:this.paginations.pageIndex,filter_select:this.filter_select,time_select:this.time_select,time_range:this.daterange,radio_time:this.radio_time,select_keyword:this.select_keyword,search_input:this.search_input,gender:this.male_counts,email:this.email_counts,phone:this.phone_counts,jointime:this.jointime_counts,label_id:this.tag_counts,label_dummy:this.radio_tag,data_fixed:{name:this.form.row_name,userid:this.form.row_userid,labelid:"",address:this.form.row_address,phone:this.form.phone,email:this.form.row_email}},{headers:{"x-access-token":o}}).then(function(o){return i.table_loading=!1,i.paginations.total=o.data.total,i.tableData=o.data.member_data,i.tags=o.data.tags,i.tags_drawer=o.data.tags,console.log(o.data.total),console.log(o.data.tags),i.$nextTick(function(){var i=this;console.log("next tick");var o=_.a.utils.table_to_book(t),a=_.a.write(o,{bookType:"xlsx",bookSST:!0,type:"array"});try{n.a.saveAs(new Blob([a],{type:"application/octet-stream"}),e)}catch(l){"undefined"!==typeof console&&console.log(l,a)}this.paginations.pageSize=this.paginations.pageSize_begin,console.log(this.paginations.pageSize);var s=Object(r["a"])("Token");return m.a.post("https://test-backend-dot-flow-263607.appspot.com/filter",{type:"filter",limit:this.paginations.pageSize,page:this.paginations.pageIndex,filter_select:this.filter_select,time_select:this.time_select,time_range:this.daterange,radio_time:this.radio_time,select_keyword:this.select_keyword,search_input:this.search_input,gender:this.male_counts,email:this.email_counts,phone:this.phone_counts,jointime:this.jointime_counts,label_id:this.tag_counts,label_dummy:this.radio_tag,data_fixed:{name:this.form.row_name,userid:this.form.row_userid,labelid:"",address:this.form.row_address,phone:this.form.phone,email:this.form.row_email}},{headers:{"x-access-token":s}}).then(function(t){return i.loading=!1,i.table_loading=!1,i.paginations.total=t.data.total,i.tableData=t.data.member_data,i.tags=t.data.tags,i.tags_drawer=t.data.tags,console.log(t.data.total),console.log(t.data.tags)}),a})})},Sumbit_drawer_fixed:function(t){var e=this;0==this.confirm_flag&&(this.select_tags_drawer="",this.tags_drawer=this.tags,this.form.row_phone="",this.form.row_userid="",this.$refs.form.resetFields(),this.loading=!1,this.drawer=!1),this.loading||1==this.confirm_flag&&this.$confirm("確定要修改個人資料嗎?").then(function(i){console.log(e.form.row_userid);var o=Object(r["a"])("Token");m.a.post("https://test-backend-dot-flow-263607.appspot.com/filter",{type:"filter",limit:e.paginations.pageSize,page:e.paginations.pageIndex,filter_select:e.filter_select,time_select:e.time_select,time_range:e.daterange,radio_time:e.radio_time,select_keyword:e.select_keyword,search_input:e.search_input,gender:e.male_counts,email:e.email_counts,phone:e.phone_counts,jointime:e.jointime_counts,label_id:e.tag_counts,label_dummy:e.radio_tag,data_fixed:{name:e.form.row_name,userid:e.form.row_userid,labelid:"",address:e.form.row_address,phone:e.form.row_phone,email:e.form.row_email}},{headers:{"x-access-token":o}}).then(function(t){return e.loading=!1,e.paginations.total=t.data.total,e.tableData=t.data.member_data,e.tags=t.data.tags,e.tags_drawer=t.data.tags}),e.loading=!0,e.form.row_userid="",e.timer=setTimeout(function(){t(),e.$refs.form.resetFields(),setTimeout(function(){e.loading=!1},400)},500)}).catch(function(t){})},cancelForm:function(){this.select_tags_drawer="",this.form.row_userid="",this.tags_drawer=this.tags,this.loading=!1,this.drawer=!1,this.$refs.form.resetFields(),clearTimeout(this.timer)},select_tags_drawer_f:function(){this.confirm_flag=!0,this.addnewtag_drawer=!1,this.form.row_label_id=this.form.row_label_id.concat(this.select_tags_drawer);this.form.row_label_id;this.select_tags_drawer=""},filterpost:function(){var t=this;this.table_loading=!0;var e=Object(r["a"])("Token");m.a.post("https://test-backend-dot-flow-263607.appspot.com/filter",{type:"filter",limit:this.paginations.pageSize,page:this.paginations.pageIndex,filter_select:this.filter_select,time_select:this.time_select,time_range:this.daterange,radio_time:this.radio_time,select_keyword:this.select_keyword,search_input:this.search_input,gender:this.male_counts,email:this.email_counts,phone:this.phone_counts,jointime:this.jointime_counts,label_id:this.tag_counts,label_dummy:this.radio_tag,data_fixed:{name:this.form.row_name,userid:this.form.row_userid,labelid:"",address:this.form.row_address,phone:this.form.row_phone,email:this.form.row_email}},{headers:{"x-access-token":e}}).then(function(e){return t.loading=!1,t.table_loading=!1,t.paginations.total=e.data.total,t.tableData=e.data.member_data,t.tags=e.data.tags,t.tags_drawer=e.data.tags})},define_time_f:function(){this.time_select=this.daterange[0]+" 到 "+this.daterange[1]},time_popo_visible_f:function(){this.time_popo_visible=!1},time_area_f:function(t){"不限時間"==t&&(this.past_time_area=!1,this.define_time_area=!1,this.time_select=""),"過去"==t&&(this.past_time_area=!0,this.define_time_area=!1,this.time_select=""),"自訂"==t&&(this.past_time_area=!1,this.define_time_area=!0,this.time_select="")},filter_condition_select:function(t){console.log(t),"符合所有篩選條件"==t&&(this.filter_select=t),"符合任何篩選條件"==t&&(this.filter_select=t)},past_time_slec_f:function(t){this.time_select=t},filterslec:function(t){"性別"==t&&this.male_counts.push({male:""}),"標籤"==t&&this.tag_counts.push({tag:"",label:""}),"加入時間"==t&&(console.log("加入時間觸發"),this.jointime_counts.push({jointime:""})),"電子信箱"==t&&this.email_counts.push({email:""}),"電話號碼"==t&&this.phone_counts.push({phone:""}),this.filterslec_count=this.filterslec_count+1,this.value="",console.log(this.filterslec_count)},tipVisibles_f:function(t){this.tipVisibles.splice(t,1,!1)},tagselect_f:function(t,e){console.log("see me"+e);var i,o={tag:[],label:[]};for(i=0;i<e.length;i++)o.tag[i]=this.tags[e[i]].value,o.label[i]=this.tags[e[i]].label;this.tag_counts.splice(t,1,o),console.log(this.tag_counts[t].label+"see memememeemememem"),console.log(this.tag_counts[t].tag+"see memememeemememem2222")},male_command:function(t,e){console.log(e),console.log(t);var i={};i.male=e,console.log(i),this.male_counts.splice(t,1,i)},phone_command:function(t,e){console.log(e),console.log(t);var i={};i.phone=e,this.phone_counts.splice(t,1,i)},email_command:function(t,e){console.log(e),console.log(t);var i={};i.email=e,this.email_counts.splice(t,1,i)},filter_command:function(t){console.log("2nd filter"+t),"性別"==t&&this.male_counts.push({male:""}),"電子信箱"==t&&this.email_counts.push({email:""}),"標籤"==t&&this.tag_counts.push({tag:"",label:""}),"電話號碼"==t&&this.phone_counts.push({phone:""}),"加入時間"==t&&this.jointime_counts.push({jointime:""}),this.filterslec_count=this.filterslec_count+1},filter_command_2:function(t){"性別"==t&&this.male_counts.push({male:""}),"電子信箱"==t&&this.email_counts.push({email:""}),"標籤"==t&&this.tag_counts.push({tag:"",label:""}),"電話號碼"==t&&this.phone_counts.push({phone:""}),"加入時間"==t&&this.jointime_counts.push({jointime:""}),this.filterslec_count=this.filterslec_count+1},deletephonebutton:function(t){this.phone_counts.splice(t,1),this.filterslec_count=this.filterslec_count-1},deletemalebutton:function(t){this.male_counts.splice(t,1),this.filterslec_count=this.filterslec_count-1},deleteemailbutton:function(t){this.email_counts.splice(t,1),this.filterslec_count=this.filterslec_count-1},deletejointimebutton:function(t){this.jointime_counts.splice(t,1),this.filterslec_count=this.filterslec_count-1},deletetagbutton:function(t){this.select_tags.splice(t,1),this.radio_tag.splice(t,1),this.tag_counts.splice(t,1),this.filterslec_count=this.filterslec_count-1,console.log(this.filterslec_count)},draweropen:function(t,e,i){console.log(t),this.confirm_flag=!1,this.drawer=!0,this.form.row_userid=t.user_id,this.form.row_name=t.name,this.form.row_name_begin=t.name,this.form.row_email=t.email,this.form.row_email_begin=t.email,console.log("變前"+this.form.row_phone),this.form.row_phone=t.phone,this.form.row_phone_begin=t.phone,console.log("變後"+this.form.row_phone),this.form.row_address=t.address,this.form.row_address_begin=t.address,this.form.row_label_id=t.label_id,this.form.row_picture=t.picture,this.form.row_jointime=t.jointime,this.form.row_jointime_begin=t.jointime,this.form.row_gender=t.gender;this.form.row_label_id},getUserList:function(){var t=this,e={limit:this.paginations.pageSize,page:this.paginations.pageIndex};Object(s["b"])(e).then(function(e){t.loading=!1,t.paginations.total=e.data.total,t.tableData=e.data.userList})},handleSizeChange:function(t){this.table_loading=!0,this.paginations.pageSize=t,this.paginations.pageSize_begin=t,this.filterpost()},handleCurrentChange:function(t){this.table_loading=!0,this.paginations.pageIndex=t,this.filterpost()},mouse_change:function(){var t=document.querySelector(".table_container");t.style.cursor="pointer"}}},u=p,f=(i("d713"),i("2877")),h=Object(f["a"])(u,o,a,!1,null,"5fa9b2f4",null);e["default"]=h.exports},d713:function(t,e,i){"use strict";var o=i("3b66"),a=i.n(o);a.a}}]);